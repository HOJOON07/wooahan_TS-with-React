## Study

# 4. íƒ€ì… í™•ì¥í•˜ê¸° Â· ì¢íˆê¸°

## 4.1 íƒ€ì… í™•ì¥í•˜ê¸°

íƒ€ì… í™•ì¥ì€ ê¸°ì¡´ íƒ€ì…ì„ ì‚¬ìš©í•´ì„œ ìƒˆë¡œìš´ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” extends, êµì°¨ íƒ€ì…, ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ í™•ì¥í•œë‹¤.

### 4.1.1 íƒ€ì… í™•ì¥ì˜ ì¥ì 

íƒ€ì… í™•ì¥ì˜ ê°€ì¥ í° ì¥ì ì€ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ ì‘ì„±ì‹œ, ì¤‘ë³µë˜ëŠ” íƒ€ì… ì„ ì–¸ì´ ìƒê¸¸ ìˆ˜ ìˆëŠ”ë°, ì´ ë•Œ ì¤‘ë³µë˜ëŠ” íƒ€ì…ì„ ë°˜ë³µì ìœ¼ë¡œ ì„ ì–¸í•˜ëŠ” ê²ƒë³´ë‹¤ ê¸°ì¡´ì— ì‘ì„±í•œ íƒ€ì…ì„ ë°”íƒ•ìœ¼ë¡œ íƒ€ì… í™•ì¥ì„ í•¨ìœ¼ë¡œì¨ ë¶ˆí•„ìš”í•œ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.

```tsx
/**
 * ë©”ë‰´ ìš”ì†Œ íƒ€ì…
 * ë©”ë‰´ ì´ë¦„, ì´ë¯¸ì§€, í• ì¸ìœ¨, ì¬ê³  ì •ë³´ë¥¼ ë‹´ê³  ìˆë‹¤
 * */
interface BaseMenuItem {
  itemName: string | null;
  itemImageUrl: string | null;
  itemDiscountAmount: number;
  stock: number | null;
}

/**
 * ì¥ë°”êµ¬ë‹ˆ ìš”ì†Œ íƒ€ì…
 * ë©”ë‰´ íƒ€ì…ì— ìˆ˜ëŸ‰ ì •ë³´ê°€ ì¶”ê°€ë˜ì—ˆë‹¤
 */
interface BaseCartItem extends BaseMenuItem {
  // BaseMenuItemì˜ ëª¨ë“  íƒ€ì…ì„ ê°€ì§€ë©´ì„œ, quantity íƒ€ì…ì„ ì¶”ê°€í•¨.
  quantity: number;
}
```

ì¥ë°”êµ¬ë‹ˆ ìš”ì†ŒëŠ” ë©”ë‰´ ìš”ì†Œê°€ ê°€ì§€ëŠ” ëª¨ë“  íƒ€ì…ì´ í•„ìš”í•˜ì§€ë§Œ, BaseMenuItemì— ìˆëŠ” ì†ì„±ì„ ì¤‘ë³µí•´ì„œ ì‘ì„±í•˜ì§€ ì•Šê³  í™•ì¥ì„ í™œìš©í•˜ì—¬ íƒ€ì…ì„ ì •ì˜í–ˆë‹¤. ì´ì²˜ëŸ¼ íƒ€ì… í™•ì¥ì€ ì¤‘ë³µëœ ì½”ë“œë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

íƒ€ì… í™•ì¥ì€ ì¤‘ë³µ ì œê±°, ëª…ì‹œì ì¸ ì½”ë“œ ì‘ì„± ì™¸ì—ë„ í™•ì¥ì„±ì´ë€ ì¥ì ì„ ê°€ì§€ê³  ìˆë‹¤. ì•ì„œ ì •ì˜í•œ `BaseCartItem`ì„ í™œìš©í•˜ë©´ ìš”êµ¬ ì‚¬í•­ì´ ëŠ˜ì–´ë‚  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ CartItem íƒ€ì…ì„ í™•ì¥í•˜ì—¬ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

```tsx
/**
 * ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ì¥ë°”êµ¬ë‹ˆ ìš”ì†Œ íƒ€ì…
 * í’ˆì ˆ ì—¬ë¶€, ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ ë°°ì—´ ì •ë³´ê°€ ì¶”ê°€ë˜ì—ˆë‹¤
 */
interface EditableCartItem extends BaseCartItem {
  isSoldOut: boolean;
  optionGroups: SelectableOptionGroup[];
}

/**
 * ì´ë²¤íŠ¸ ì¥ë°”êµ¬ë‹ˆ ìš”ì†Œ íƒ€ì…
 * ì£¼ë¬¸ ê°€ëŠ¥ ì—¬ë¶€ì— ëŒ€í•œ ì •ë³´ê°€ ì¶”ê°€ë˜ì—ˆë‹¤
 */
interface EventCartItem extends BaseCartItem {
  orderable: boolean;
}
```

ì´ ì½”ë“œì—ì„œ BaseCartItemì„ í™•ì¥í•˜ì—¬ ë§Œë“  EditableCartItem, EventCartItem íƒ€ì…ì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ë ‡ê²Œ íƒ€ì… í™•ì¥ì„ í™œìš©í•˜ë©´ ì¥ë°”êµ¬ë‹ˆì™€ ê´€ë ¨ëœ ìš”êµ¬ ì‚¬í•­ì´ ìƒê¸¸ ë•Œë§ˆë‹¤ í•„ìš”í•œ íƒ€ì…ì„ ì†ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤. ë”ìš±ì´, ê¸°ì¡´ ì¥ë°”êµ¬ë‹ˆ ìš”ì†Œì— ëŒ€í•œ ìš”êµ¬ ì‚¬í•­ì´ ë³€ê²½ë˜ì–´ë„ BaseCartItem íƒ€ì…ë§Œ ìˆ˜ì •í•˜ê³  EditableCartItemì´ë‚˜ EventCartItemì€ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì— íš¨ìœ¨ì ì´ë‹¤.

### 4.1.2 ìœ ë‹ˆì˜¨ íƒ€ì…

ìœ ë‹ˆì˜¨ íƒ€ì…ì€ 2ê°œ ì´ìƒì˜ íƒ€ì…ì„ ì¡°í•©í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì´ë‹¤. ì§‘í•© ê´€ì ìœ¼ë¡œ ë³´ë©´ í•©ì§‘í•©ìœ¼ë¡œ í•´ì„í•  ìˆ˜ ìˆë‹¤.

```tsx
type MyUnion = A | B;
```

Aì™€ Bì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì¸ MyUnionì€ íƒ€ì… Aì™€ Bì˜ í•©ì§‘í•©ì´ë‹¤. ì§‘í•© Aì˜ ëª¨ë“  ì›ì†ŒëŠ” ì§‘í•© MyUnionì˜ ì›ì†Œì´ë©°, ì§‘í•© Bì˜ ëª¨ë“  ì›ì†Œ ì—­ì‹œ ì§‘í•© MyUnionì˜ ì›ì†Œë¼ëŠ” ëœ»ì´ë‹¤. ì¦‰, A íƒ€ì…ê³¼ B íƒ€ì…ì˜ ëª¨ë“  ê°’ì´ MyUnion íƒ€ì…ì˜ ê°’ì´ ëœë‹¤.

ì£¼ì˜í•´ì•¼ í•  ì ì€, ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ëœ ê°’ì€ **ìœ ë‹ˆì˜¨ íƒ€ì…ì— í¬í•¨ëœ ëª¨ë“  íƒ€ì…ì´ ê³µí†µìœ¼ë¡œ ê°–ê³  ìˆëŠ” ì†ì„±ì—ë§Œ ì ‘ê·¼**í•  ìˆ˜ ìˆë‹¤.

```tsx
interface CookingStep {
  orderId: string;
  price: number;
}

interface DeliveryStep {
  orderId: string;
  time: number;
  distance: string;
}

function getDeliveryDistance(step: CookingStep | DeliveryStep) {
  return step.distance;
  // Property â€˜distanceâ€™ does not exist on type â€˜CookingStep | DeliveryStepâ€™
  // Property â€˜distanceâ€™ does not exist on type â€˜CookingStepâ€™
}
```

í•¨ìˆ˜ ë³¸ë¬¸ì—ì„œ step.distanceë¥¼ í˜¸ì¶œí•˜ê³  ìˆëŠ”ë° distanceëŠ” DeliveryStepì—ë§Œ ì¡´ì¬í•˜ëŠ” ì†ì„±ì´ë‹¤. ì¸ìë¡œ ë°›ëŠ” step íƒ€ì…ì´ CookingStepì´ë¼ë©´ distance ì†ì„±ì„ ì°¾ì„ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤. ì¦‰, stepì´ë¼ëŠ” ìœ ë‹ˆì˜¨ íƒ€ì…ì€ CookingStep ë˜ëŠ” DeliveryStep íƒ€ì…ì— í•´ë‹¹í•  ë¿ì´ì§€ CookingStepì´ë©´ì„œ DeliveryStepì¸ ê²ƒì€ ì•„ë‹ˆë‹¤.

> ğŸ’¡ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì…ì„ ì†ì„±ì˜ ì§‘í•©ì´ ì•„ë‹ˆë¼ ê°’ì˜ ì§‘í•©ì´ë¼ê³  ìƒê°í•´ì•¼ ìœ ë‹ˆì˜¨ íƒ€ì…ì´ í•©ì§‘í•©ì´ë¼ëŠ” ê°œë…ì„ ì´í•´í•  ìˆ˜ ìˆë‹¤.

### 4.1.3 êµì°¨ íƒ€ì…

êµì°¨ íƒ€ì…ë„ ê¸°ì¡´ íƒ€ì…ì„ í•©ì³ í•„ìš”í•œ ëª¨ë“  ê¸°ëŠ¥ì„ ê°€ì§„ í•˜ë‚˜ì˜ íƒ€ì…ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆì§€ë§Œ ìœ ë‹ˆì˜¨ íƒ€ì…ê³¼ ë‹¤ë¥¸ ì ì´ ìˆë‹¤.

```tsx
interface CookingStep {
  orderId: string;
  time: number;
  price: number;
}

interface DeliveryStep {
  orderId: string;
  time: number;
  distance: string;
}

type BaedalProgress = CookingStep & DeliveryStep;

function logBaedalInfo(progress: BaedalProgress) {
  console.log(`ì£¼ë¬¸ ê¸ˆì•¡: ${progress.price}`);
  console.log(`ë°°ë‹¬ ê±°ë¦¬: ${progress.distance}`);
}
```

BaedalProgressëŠ” CookingStepê³¼ DeliveryStep íƒ€ì…ì„ í•©ì³ ëª¨ë“  ì†ì„±ì„ ê°€ì§„ ë‹¨ì¼ íƒ€ì…ì´ ëœë‹¤. ë”°ë¼ì„œ BaedalProgress íƒ€ì…ì˜ progress ê°’ì€ CookingStepì´ ê°–ê³  ìˆëŠ” price ì†ì„±ê³¼ DeliveryStepì´ ê°–ê³  ìˆëŠ” distance ì†ì„±ì„ í¬í•¨í•˜ê³  ìˆë‹¤.

ì•ì„œ ìœ ë‹ˆì˜¨ íƒ€ì…ì€ í•©ì§‘í•©ì˜ ê°œë…ì´ë¼ê³  ì„¤ëª…í–ˆë‹¤. êµì°¨ íƒ€ì…ì€ êµì§‘í•©ì˜ ê°œë…ê³¼ ë¹„ìŠ·í•˜ë‹¤.

```tsx
type MyIntersection = A & B;
```

MyIntersection íƒ€ì…ì˜ ëª¨ë“  ê°’ì€ A íƒ€ì…ì˜ ê°’ì´ë©°, MyIntersection íƒ€ì…ì˜ ëª¨ë“  ê°’ì€ B íƒ€ì…ì˜ ê°’ì´ë‹¤. ì§‘í•©ì˜ ê´€ì ì—ì„œ í•´ì„í•´ë³´ë©´ ì§‘í•© MyIntersectionì˜ ëª¨ë“  ì›ì†ŒëŠ” ì§‘í•© Aì˜ ì›ì†Œì´ì ì§‘í•© Bì˜ ì›ì†Œì„ì„ ì•Œ ìˆ˜ ìˆë‹¤.

> ğŸ’¡ ë‹¤ì‹œ ë§í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì˜ íƒ€ì…ì„ ì†ì„±ì˜ ì§‘í•©ì´ ì•„ë‹ˆë¼ ê°’ì˜ ì§‘í•©ìœ¼ë¡œ ì´í•´í•´ì•¼ í•œë‹¤. BaedalProgress êµì°¨ íƒ€ì…ì€ CookingStepì´ ê°€ì§„ ì†ì„±(orderId, time, price)ê³¼ DeliveryStepì´ ê°€ì§„ ì†ì„±(orderId, time, distance)ì„ ëª¨ë‘ ë§Œì¡±(êµì§‘í•©)í•˜ëŠ” ê°’ì˜ íƒ€ì…(ì§‘í•©)ì´ë¼ê³  í•´ì„í•  ìˆ˜ ìˆë‹¤.

```tsx
/* ë°°ë‹¬ íŒ */
interface DeliveryTip {
  tip: string;
  }
/* ë³„ì  */
interface StarRating {
  rate: number;
}
/* ì£¼ë¬¸ í•„í„° */
type Filter = DeliveryTip & StarRating;

const filter: Filter = {
  tip: â€œ1000ì› ì´í•˜â€,
  rate: 4,
};

```

êµì°¨ íƒ€ì…ì€ ë‘ íƒ€ì…ì˜ êµì§‘í•©ì„ ì˜ë¯¸í•œë‹¤ê³  í–ˆë‹¤. ê·¸ëŸ°ë° DeliveryTipê³¼ StarRatingì€ ê³µí†µëœ ì†ì„±ì´ ì—†ëŠ”ë°ë„ Filterì˜ íƒ€ì…ì€ ê³µì§‘í•©(never íƒ€ì…)ì´ ì•„ë‹Œ DeliveryTipê³¼ StarRatingì˜ ì†ì„±ì„ ëª¨ë‘ í¬í•¨í•œ íƒ€ì…ì´ ëœë‹¤. ì™œëƒí•˜ë©´ **íƒ€ì…ì´ ì†ì„±ì´ ì•„ë‹Œ ê°’ì˜ ì§‘í•©ìœ¼ë¡œ í•´ì„ë˜ê¸° ë•Œë¬¸**ì´ë‹¤. ì¦‰, êµì°¨ íƒ€ì… FilterëŠ” DeliveryTipì˜ tip ì†ì„±ê³¼ StarRatingì˜ rate ì†ì„±ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ê°’ì´ ëœë‹¤.

êµì°¨ íƒ€ì…ì„ ì‚¬ìš©í•  ë•Œ íƒ€ì…ì´ ì„œë¡œ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ê²½ìš°ë„ ìˆë‹¤.

```tsx
type IdType = string | number;
type Numeric = number | boolean;

type Universal = IdType & Numeric;
```

Universalì€ IdTypeê³¼ Numericì˜ êµì°¨ íƒ€ì…ì´ë¯€ë¡œ ë‘ íƒ€ì…ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ê²½ìš°ì—ë§Œ ìœ ì§€ëœë‹¤. ë”°ë¼ì„œ â€œnumberì´ë©´ì„œ numberì¸ ê²½ìš°â€ë§Œ ìœ íš¨í•˜ì—¬ Universalì˜ íƒ€ì…ì€ numberê°€ ëœë‹¤.

### 4.1.4 extendsì™€ êµì°¨ íƒ€ì…

```tsx
interface BaseMenuItem {
  itemName: string | null;
  itemImageUrl: string | null;
  itemDiscountAmount: number;
  stock: number | null;
}

interface BaseCartItem extends BaseMenuItem {
  quantity: number;
}
```

BaseCartItemì€ BaseMenuItemì„ í™•ì¥í•¨ìœ¼ë¡œì¨ BaseMenuItemì˜ ì†ì„±ì„ ëª¨ë‘ í¬í•¨í•˜ê³  ìˆë‹¤. ì¦‰, BaseCartItemì€ BaseMenuItemì˜ ì†ì„±ì„ ëª¨ë‘ í¬í•¨í•˜ëŠ” ìƒìœ„ ì§‘í•©ì´ ë˜ê³  BaseMenuItemì€ BaseCartItemì˜ ë¶€ë¶„ì§‘í•©ì´ ëœë‹¤. ì´ë¥¼ êµì°¨ íƒ€ì…ì˜ ê´€ì ì—ì„œ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```tsx
type BaseMenuItem = {
  itemName: string | null;
  itemImageUrl: string | null;
  itemDiscountAmount: number;
  stock: number | null;
};

type BaseCartItem = {
  quantity: number;
} & BaseMenuItem;

const baseCartItem: BaseCartItem = {
  itemName: â€œì§€ì€ì´ë„¤ ë–¡ë³¶ì´â€,
  itemImageUrl: â€œ<https://www.woowahan.com/images/jieun-tteokbokkio.pngâ€>,
  itemDiscountAmount: 2000,
  stock: 100,
  quantity: 2,
};

```

BaseCartItemì€ quantityë¼ëŠ” ìƒˆë¡œìš´ ì†ì„±ê³¼ BaseMenuItemì˜ ëª¨ë“  ì†ì„±ì„ ê°€ì§„ ë‹¨ì¼ íƒ€ì…ì´ë‹¤. êµì°¨ íƒ€ì…ì„ ì‚¬ìš©í•œ ì½”ë“œì—ì„œëŠ” BaseMenuItemê³¼ BaseCartItemì„ interfaceê°€ ì•„ë‹Œ typeìœ¼ë¡œ ì„ ì–¸í–ˆë‹¤. ì™œëƒí•˜ë©´ **ìœ ë‹ˆì˜¨ íƒ€ì…ê³¼ êµì°¨ íƒ€ì…ì„ ì‚¬ìš©í•œ ìƒˆë¡œìš´ íƒ€ì…ì€ ì˜¤ì§ type í‚¤ì›Œë“œë¡œë§Œ ì„ ì–¸í•  ìˆ˜ ìˆê¸° ë•Œë¬¸**ì´ë‹¤.

ì£¼ì˜í•  ì ì€ extends í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ íƒ€ì…ì´ êµì°¨ íƒ€ì…ê³¼ 100% ìƒì‘í•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤.

**extends í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ ì˜ˆì‹œ**

```tsx
interface DeliveryTip {
  tip: number;
}

interface Filter extends DeliveryTip {
  tip: string;
  // Interface â€˜Filterâ€™ incorrectly extends interface â€˜DeliveryTipâ€™
  // Types of property â€˜tipâ€™ are incompatible
  // Type â€˜stringâ€™ is not assignable to type â€˜numberâ€™
}
```

ğŸš¨ DeliveryTipì„ extendsë¡œ í™•ì¥í•œ Filter íƒ€ì…ì— string íƒ€ì…ì˜ ì†ì„± tipì„ ì„ ì–¸í•˜ë©´ tipì˜ íƒ€ì…ì´ í˜¸í™˜ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

**êµì°¨ íƒ€ì…ìœ¼ë¡œ ì‘ì„±í•œ ì˜ˆì‹œ**

```tsx
type DeliveryTip = {
  tip: number;
};

type Filter = DeliveryTip & {
  tip: string;
};
```

extendsë¥¼ &ë¡œ ë°”ê¿¨ì„ ë¿ì¸ë° ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ë•Œ tip ì†ì„±ì˜ íƒ€ì…ì€ â€œneverâ€ì´ë‹¤.

type í‚¤ì›Œë“œëŠ” êµì°¨ íƒ€ì…ìœ¼ë¡œ ì„ ì–¸ë˜ì—ˆì„ ë•Œ ìƒˆë¡­ê²Œ ì¶”ê°€ë˜ëŠ” ì†ì„±ì— ëŒ€í•´ ë¯¸ë¦¬ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ì„ ì–¸ ì‹œ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. **í•˜ì§€ë§Œ tipì´ë¼ëŠ” ê°™ì€ ì†ì„±ì— ëŒ€í•´ ì„œë¡œ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” íƒ€ì…ì´ ì„ ì–¸ë˜ì–´ ê²°êµ­ never íƒ€ì…ì´ ëœ ê²ƒì´ë‹¤.**

### 4.1.5 ë°°ë‹¬ì˜ ë¯¼ì¡± ë©”ë‰´ ì‹œìŠ¤í…œì— íƒ€ì… í™•ì¥ ì ìš©í•˜ê¸°

ë°°ë‹¬ ì„œë¹„ìŠ¤ ë©”ë‰´ ì˜ˆì œë¡œ ê°„ë‹¨í•œ íƒ€ì… í™•ì¥ì— ëŒ€í•´ ì•Œì•„ë´¤ë‹¤. ê²°ë¡ ì ìœ¼ë¡œ, ì£¼ì–´ì§„ íƒ€ì…ì— ë¬´ë¶„ë³„í•˜ê²Œ ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ íƒ€ì…ì„ í™•ì¥í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤. ê·¸ë ‡ê²Œ í•˜ë©´ ì ì ˆí•œ ë„¤ì´ë°ì„ ì‚¬ìš©í•´ì„œ íƒ€ì…ì˜ ì˜ë„ë¥¼ ëª…í™•íˆ í‘œí˜„í•  ìˆ˜ë„ ìˆê³ , ì½”ë“œ ì‘ì„± ë‹¨ê³„ì—ì„œ ì˜ˆê¸°ì¹˜ ëª»í•œ ë²„ê·¸ë„ ì˜ˆë°©í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

## 4.2 íƒ€ì… ì¢íˆê¸° - íƒ€ì… ê°€ë“œ

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ íƒ€ì… ì¢íˆê¸°ëŠ” ë³€ìˆ˜ ë˜ëŠ” í‘œí˜„ì‹ì˜ íƒ€ì… ë²”ìœ„ë¥¼ ë” ì‘ì€ ë²”ìœ„ë¡œ ì¢í˜€ë‚˜ê°€ëŠ” ê³¼ì •ì„ ë§í•œë‹¤. íƒ€ì… ì¢íˆê¸°ë¥¼ í†µí•´ ë” ì •í™•í•˜ê³  ëª…ì‹œì ì¸ íƒ€ì… ì¶”ë¡ ì„ í•  ìˆ˜ ìˆê²Œ ë˜ê³ , ë³µì¡í•œ íƒ€ì…ì„ ì‘ì€ ë²”ìœ„ë¡œ ì¶•ì†Œí•˜ì—¬ íƒ€ì… ì•ˆì •ì„±ì„ ë†’ì¼ ìˆ˜ ìˆë‹¤.

### 4.2.1 íƒ€ì… ê°€ë“œì— ë”°ë¼ ë¶„ê¸° ì²˜ë¦¬í•˜ê¸°

íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œì˜ ë¶„ê¸° ì²˜ë¦¬ëŠ” ì¡°ê±´ë¬¸ê³¼ íƒ€ì… ê°€ë“œë¥¼ í™œìš©í•˜ì—¬ ë³€ìˆ˜ë‚˜ í‘œí˜„ì‹ì˜ íƒ€ì… ë²”ìœ„ë¥¼ ì¢í˜€ ë‹¤ì–‘í•œ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¸ ë™ì‘ìœ¼ë¡œ ìˆ˜í–‰í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. (\*íƒ€ì… ê°€ë“œ : ëŸ°íƒ€ì„ì— ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•˜ì—¬ íƒ€ì…ì„ ê²€ì‚¬í•˜ê³  íƒ€ì… ë²”ìœ„ë¥¼ ì¢í˜€ì£¼ëŠ” ê¸°ëŠ¥) ë‹¤ìŒ ëŒ€í™”ë¥¼ ì‚´í´ë³´ì.

> ğŸ‘¶ğŸ» : ì–´ë–¤ í•¨ìˆ˜ê°€ A | B íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ë°›ì„ ë•Œ, ì¸ì íƒ€ì…ì´ A ë˜ëŠ” Bì¼ ë•Œë¥¼ êµ¬ë¶„í•´ì„œ ë¡œì§ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë• ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ?
> ğŸ‘¨ğŸ»â€ğŸ¦³ : ifë¬¸ì„ ì‚¬ìš©í•´ì„œ ì²˜ë¦¬í•˜ë©´ ë  ê²ƒ ê°™ì€ë°!
> ğŸ‘¶ğŸ» : ifë¬¸ì„ ì‚¬ìš©í•˜ë©´ ì»´íŒŒì¼ ì‹œ íƒ€ì… ì •ë³´ëŠ” ëª¨ë‘ ì œê±°ë˜ì–´ ëŸ°íƒ€ì„ì— ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— íƒ€ì…ì„ ì‚¬ìš©í•˜ì—¬ ì¡°ê±´ì„ ë§Œë“¤ ìˆ˜ëŠ” ì—†ì–´. ì»´íŒŒì¼í•´ë„ íƒ€ì… ì •ë³´ê°€ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ì•¼ í•´.

íƒ€ì…ì— ë”°ë¼ ë¶„ê¸° ì²˜ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” íŠ¹ì • ë¬¸ë§¥ ì•ˆì—ì„œ 1) íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ í•´ë‹¹ ë³€ìˆ˜ë¥¼ íƒ€ì… Aë¡œ ì¶”ë¡ í•˜ë„ë¡ ìœ ë„í•˜ë©´ì„œ 2) ëŸ°íƒ€ì„ì—ì„œë„ ìœ íš¨í•œ ë°©ë²•ì´ í•„ìš”í•œë°, ì´ë•Œ **íƒ€ì… ê°€ë“œ**ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤. íƒ€ì… ê°€ë“œëŠ” í¬ê²Œ **ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•œ íƒ€ì… ê°€ë“œ**ì™€ **ì‚¬ìš©ì ì •ì˜ íƒ€ì… ì¹´ë“œ**ë¡œ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤.

**ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—°ì‚°ìë¥¼ í™œìš©í•œ íƒ€ì… ê°€ë“œ**

- typeof, instanceof, inê³¼ ê°™ì€ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì„œ ì œì–´ë¬¸ìœ¼ë¡œ íŠ¹ì • íƒ€ì… ê°’ì„ ê°€ì§ˆ ìˆ˜ë°–ì— ì—†ëŠ” ìƒí™©ì„ ìœ ë„í•˜ì—¬ ìì—°ìŠ¤ëŸ½ê²Œ íƒ€ì…ì„ ì¢íˆëŠ” ë°©ì‹
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ  : ëŸ°íƒ€ì„ì— ìœ íš¨í•œ íƒ€ì… ê°€ë“œë¥¼ ë§Œë“¤ê¸° ìœ„í•´ (ëŸ°íƒ€ì„ì— ìœ íš¨í•˜ë‹¤ == TSë¿ë§Œ ì•„ë‹ˆë¼ JSì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë¬¸ë²•ì´ì–´ì•¼ í•œë‹¤.)
- í™œìš© ì˜ˆì‹œ : ì›ì‹œ íƒ€ì…ì„ ì¶”ë¡ í•  ë•Œ(typeof ì—°ì‚°ì), ì¸ìŠ¤í„´ìŠ¤í™”ëœ ê°ì²´ íƒ€ì…ì„ íŒë³„í•  ë•Œ(instanceof ì—°ì‚°ì), ê°ì²´ì˜ ì†ì„±ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ì— ë”°ë¥¸ êµ¬ë¶„(in ì—°ì‚°ì)

**ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œ**

- ì‚¬ìš©ìê°€ ì§ì ‘ ì–´ë–¤ íƒ€ì…ìœ¼ë¡œ ê°’ì„ ì¢íì§€ë¥¼ ì§ì ‘ ì§€ì •í•˜ëŠ” ë°©ì‹
- í™œìš© ì˜ˆì‹œ : íƒ€ì… ëª…ì œì¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì‚¬ìš©(is ì—°ì‚°ì)

### 4.2.2 ì›ì‹œ íƒ€ì…ì„ ì¶”ë¡ í•  ë•Œ: typeof ì—°ì‚°ì í™œìš©

typeof A === Bë¥¼ ì¡°ê±´ìœ¼ë¡œ ë¶„ê¸° ì²˜ë¦¬í•˜ë©´, í•´ë‹¹ ë¶„ê¸° ë‚´ì—ì„œëŠ” Aì˜ íƒ€ì…ì´ Bë¡œ ì¶”ë¡ ëœë‹¤. ë‹¤ë§Œ typeofëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ íƒ€ì… ì‹œìŠ¤í…œë§Œ ëŒ€ì‘í•  ìˆ˜ ìˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë™ì‘ ë°©ì‹ìœ¼ë¡œ ì¸í•´ nullê³¼ ë°°ì—´ íƒ€ì… ë“±ì´ object íƒ€ì…ìœ¼ë¡œ íŒë³„ë˜ëŠ” ë“± ë³µì¡í•œ íƒ€ì…ì„ ê²€ì¦í•˜ê¸°ì—ëŠ” í•œê³„ê°€ ìˆê¸° ë•Œë¬¸ì— ì£¼ë¡œ ì›ì‹œ íƒ€ì…ì„ ì¢íˆëŠ” ìš©ë„ë¡œë§Œ ì‚¬ìš©í•  ê²ƒì„ ê¶Œì¥í•œë‹¤.

**typeof ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ê²€ì‚¬í•  ìˆ˜ ìˆëŠ” íƒ€ì… ëª©ë¡**

- string
- number
- boolean
- undefined
- object
- function
- bigint
- symbol

```tsx
const replaceHyphen: (date: string | Date) => string | Date = (date) => {
  if (typeof date === â€œstringâ€) {
  // ì´ ë¶„ê¸°ì—ì„œëŠ” dateì˜ íƒ€ì…ì´ stringìœ¼ë¡œ ì¶”ë¡ ëœë‹¤
  return date.replace(/-/g, â€œ/â€);
  }

  return date;
};

```

### 4.2.3 ì¸ìŠ¤í„´ìŠ¤í™”ëœ ê°ì²´ íƒ€ì…ì„ íŒë³„í•  ë•Œ: instanceof ì—°ì‚°ì í™œìš©í•˜ê¸°

instanceof ì—°ì‚°ìëŠ” ì¸ìŠ¤í„´ìŠ¤í™”ëœ ê°ì²´ íƒ€ì…ì„ íŒë³„í•˜ëŠ” íƒ€ì… ê°€ë“œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. A instanceof B í˜•íƒœë¡œ ì‚¬ìš©í•˜ë©° Aì—ëŠ” íƒ€ì…ì„ ê²€ì‚¬í•  ëŒ€ìƒ ë³€ìˆ˜, Bì—ëŠ” íŠ¹ì • ê°ì²´ì˜ ìƒì„±ìê°€ ë“¤ì–´ê°„ë‹¤. instanceofëŠ” Aì˜ í”„ë¡œí† íƒ€ì… ì²´ì¸ì— ìƒì„±ì Bê°€ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ê²€ì‚¬í•´ì„œ ì¡´ì¬í•œë‹¤ë©´ true, ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ falseë¥¼ ë°˜í™˜í•œë‹¤. ì´ëŸ¬í•œ ë™ì‘ ë°©ì‹ìœ¼ë¡œ ì¸í•´ Aì˜ í”„ë¡œí† íƒ€ì… ì†ì„± ë³€í™”ì— ë”°ë¼ instanceof ì—°ì‚°ìì˜ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤ëŠ” ì ì€ ìœ ì˜í•´ì•¼ í•œë‹¤.

```tsx
const onKeyDown = (event: React.KeyboardEvent) => {
  if (event.target instanceof HTMLInputElement && event.key === â€œEnterâ€) {
  // ì´ ë¶„ê¸°ì—ì„œëŠ” event.targetì˜ íƒ€ì…ì´ HTMLInputElementì´ë©°
  // event.keyê°€ â€˜Enterâ€™ì´ë‹¤
  event.target.blur();
  onCTAButtonClick(event);
  }
};

```

HTMLInputElementì— ì¡´ì¬í•˜ëŠ” blur ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´, event.targetì´ HTMLInputElementì˜ ì¸ìŠ¤í„´ìŠ¤ì¸ì§€ë¥¼ ê²€ì‚¬í•œ í›„ ë¶„ê¸° ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì´ë‹¤.

### 4.2.4 ê°ì²´ì˜ ì†ì„±ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ì— ë”°ë¥¸ êµ¬ë¶„: in ì—°ì‚°ì í™œìš©í•˜ê¸°

in ì—°ì‚°ìëŠ” ê°ì²´ì— ì†ì„±ì´ ìˆëŠ”ì§€ í™•ì¸í•œ ë‹¤ìŒì— true ë˜ëŠ” falseë¥¼ ë°˜í™˜í•œë‹¤. in ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ì†ì„±ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ì— ë”°ë¼ ê°ì²´ íƒ€ì…ì„ êµ¬ë¶„í•  ìˆ˜ ìˆë‹¤. in ì—°ì‚°ìëŠ” A in Bì˜ í˜•íƒœë¡œ ì‚¬ìš©í•˜ëŠ”ë° ì´ë¦„ ê·¸ëŒ€ë¡œ Aë¼ëŠ” ì†ì„±ì´ B ê°ì²´ì— ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ê²€ì‚¬í•œë‹¤. í”„ë¡œí† íƒ€ì… ì²´ì¸ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì†ì„±ì´ë©´ ì „ë¶€ trueë¥¼ ë°˜í™˜í•œë‹¤. in ì—°ì‚°ìëŠ” B ê°ì²´ ë‚´ë¶€ì— A ì†ì„±ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ë¥¼ ê²€ì‚¬í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— B ê°ì²´ì— ì¡´ì¬í•˜ëŠ” A ì†ì„±ì— undefinedë¥¼ í• ë‹¹í•œë‹¤ê³  í•´ì„œ falseë¥¼ ë°˜í™˜í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤. delete ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ ë‚´ë¶€ì—ì„œ í•´ë‹¹ ì†ì„±ì„ ì œê±°í•´ì•¼ë§Œ falseë¥¼ ë°˜í™˜í•œë‹¤.

```tsx
interface BasicNoticeDialogProps {
  noticeTitle: string;
  noticeBody: string;
}

interface NoticeDialogWithCookieProps extends BasicNoticeDialogProps {
  cookieKey: string;
  noForADay?: boolean;
  neverAgain?: boolean;
}

export type NoticeDialogProps =
| BasicNoticeDialogProps
| NoticeDialogWithCookieProps;

const NoticeDialog: React.FC<NoticeDialogProps> = (props) => {
  if (â€œcookieKeyâ€ in props) return <NoticeDialogWithCookie {...props} />; // NoticeDialogWithCookieProps íƒ€ì…
  return <NoticeDialogBase {...props} />; // BasicNoticeDialogProps íƒ€ì…
};

```

NoticeDialogWithCookiePropsëŠ” BasicNoticeDialogPropsë¥¼ ìƒì†ë°›ê³  cookieKey ì†ì„±ì„ ê°€ì§„ë‹¤. ë”°ë¼ì„œ ë‘ ê°ì²´ íƒ€ì…ì„ cookieKey ì†ì„±ì„ ê°€ì¡ŒëŠ”ì§€ ì•„ë‹Œì§€ì— ë”°ë¼ in ì—°ì‚°ìë¡œ ì¡°ê±´ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ in ì—°ì‚°ìëŠ” ëŸ°íƒ€ì„ì˜ ê°’ë§Œì„ ê²€ì‚¬í•˜ì§€ë§Œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œëŠ” ê°ì²´ íƒ€ì…ì— ì†ì„±ì´ ì¡´ì¬í•˜ëŠ”ì§€ë¥¼ ê²€ì‚¬í•œë‹¤. ìœ„ì˜ ì½”ë“œì²˜ëŸ¼ ì—¬ëŸ¬ ê°ì²´ íƒ€ì…ì„ ìœ ë‹ˆì˜¨ íƒ€ì…ìœ¼ë¡œ ê°€ì§€ê³  ìˆì„ ë•Œ in ì—°ì‚°ìë¥¼ ì‚¬ìš©í•´ì„œ ì†ì„±ì˜ ìœ ë¬´ì— ë”°ë¼ ì¡°ê±´ ë¶„ê¸°ë¥¼ í•  ìˆ˜ ìˆë‹¤.

### 4.2.5 is ì—°ì‚°ìë¡œ ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œë¥¼ ë§Œë“¤ì–´ í™œìš©í•˜ê¸°

ì‚¬ìš©ì ì •ì˜ íƒ€ì… ê°€ë“œëŠ” ë°˜í™˜ íƒ€ì…ì´ íƒ€ì… ëª…ì œ(type predicates)ì¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. íƒ€ì… ëª…ì œëŠ” A is B í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë©´ ë˜ëŠ”ë° ì—¬ê¸°ì„œ AëŠ” ë§¤ê°œë³€ìˆ˜ ì´ë¦„ì´ê³  BëŠ” íƒ€ì…ì´ë‹¤. ì°¸/ê±°ì§“ì˜ ì§„ë¦¿ê°’ì„ ë°˜í™˜í•˜ë©´ì„œ ë°˜í™˜íƒ€ì…ì„ íƒ€ì… ëª…ì œë¡œ ì§€ì •í•˜ê²Œ ë˜ë©´ ë°˜í™˜ ê°’ì´ ì°¸ì¼ ë•Œ A ë§¤ê°œë³€ìˆ˜ì˜ íƒ€ì…ì„ B íƒ€ì…ìœ¼ë¡œ ì·¨ê¸‰í•˜ê²Œ ëœë‹¤.

\*íƒ€ì… ëª…ì œ(type predicates) : í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì— ëŒ€í•œ íƒ€ì… ê°€ë“œë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” íŠ¹ë³„í•œ í˜•íƒœì˜ í•¨ìˆ˜ì´ë‹¤.

```tsx
const isDestinationCode = (x: string): x is DestinationCode =>
  destinationCodeList.includes(x);
```

isDestinationCodeëŠ” string íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ê°€ destinationCodeList ë°°ì—´ì˜ ì›ì†Œ ì¤‘ í•˜ë‚˜ì¸ì§€ë¥¼ ê²€ì‚¬í•˜ì—¬ booleanì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì„ booelanì´ ì•„ë‹Œ x is DestinationCodeë¡œ íƒ€ì´í•‘í•˜ì—¬ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ê²Œ ì´ í•¨ìˆ˜ê°€ ì‚¬ìš©ë˜ëŠ” ê³³ì˜ íƒ€ì…ì„ ì¶”ë¡ í•  ë•Œ í•´ë‹¹ ì¡°ê±´ì„ íƒ€ì… ê°€ë“œë¡œ ì‚¬ìš©í•˜ë„ë¡ ì•Œë ¤ì¤€ë‹¤.

**isDestinationCodeì˜ ë°˜í™˜ ê°’ íƒ€ì´í•‘ì„ x is DestinationCodeê°€ ì•„ë‹Œ booleanìœ¼ë¡œ í–ˆì„ ë•Œ**

```tsx
const isDestinationCode = (x: string): boolean =>
  destinationCodeList.includes(x);
```

```tsx

const getAvailableDestinationNameList = async (): Promise<DestinationName[]> => {
  const data = await AxiosRequest<string[]>(â€œgetâ€, â€œ.../destinationsâ€);
  const destinationNames: DestinationName[] = [];
  data?.forEach((str) => {
  if (isDestinationCode(str)) { // strì´ destinationCodeListì˜ ì›ì†Œê°€ ë§ëŠ”ì§€ ì²´í¬.
    destinationNames.push(DestinationNameSet[str]); // ë§ë‹¤ë©´ DestinationNames ë°°ì—´ì— push.
    /*
    isDestinationCodeì˜ ë°˜í™˜ ê°’ì— isë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  booleanì´ë¼ê³  í•œë‹¤ë©´ ë‹¤ìŒ ì—ëŸ¬ê°€
    ë°œìƒí•œë‹¤
    - Element implicitly has an â€˜anyâ€™ type because expression of type â€˜stringâ€™
    canâ€™t be used to index type â€˜Record<â€MESSAGE_PLATFORMâ€ | â€œCOUPON_PLATFORMâ€ | â€œBRAZEâ€,  // string[] íƒ€ì…ì¸ strì„ DestinationName[]ì— pushí•  ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬
    â€œí†µí•©ë©”ì‹œì§€í”Œë«í¼â€ | â€œì¿ í°ëŒ€ì¥ê°„â€ | â€œbrazeâ€>â€™
    */
    }
  });
  return destinationNames;
};

```

ì´ ê²½ìš° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” isDestinationCode í•¨ìˆ˜ ë‚´ë¶€ì— ìˆëŠ” includes í•¨ìˆ˜ë¥¼ í•´ì„í•´ íƒ€ì… ì¶”ë¡ ì„ í• ìˆ˜ ì—†ë‹¤. íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ifë¬¸ ìŠ¤ì½”í”„ì˜ str íƒ€ì…ì„ ì¢íˆì§€ ëª»í•˜ê³  stringìœ¼ë¡œë§Œ ì¶”ë¡ í•œë‹¤. destinationNamesì˜ íƒ€ì…ì€ DestinationName[]ì´ê¸° ë•Œë¬¸ì— string íƒ€ì…ì˜ strì„ pushí•  ìˆ˜ ì—†ë‹¤ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.

â¡ï¸ ì´ì²˜ëŸ¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ê²Œ ë°˜í™˜ ê°’ì— ëŒ€í•œ íƒ€ì… ì •ë³´ë¥¼ ì•Œë ¤ì£¼ê³  ì‹¶ì„ ë•Œ isë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ë°˜í™˜ ê°’ì˜ íƒ€ì…ì„ x is DestinationCodeë¡œ ì•Œë ¤ì¤Œìœ¼ë¡œì¨ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ëŠ” ifë¬¸ ìŠ¤ì½”í”„ì˜ str íƒ€ì…ì„ DestinationCodeë¡œ ì¶”ë¡ í•  ìˆ˜ ìˆë‹¤.

## 4.3 íƒ€ì… ì¢íˆê¸° - ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨(Discriminated Unions)

íƒœê·¸ëœ ìœ ë‹ˆì˜¨ìœ¼ë¡œë„ ë¶ˆë¦¬ëŠ” ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨ì€ íƒ€ì… ì¢íˆê¸°ì— ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì´ë‹¤.

### 4.3.1 ì—ëŸ¬ ì •ì˜í•˜ê¸°

ë°°ë‹¬ì˜ë¯¼ì¡± ì„ ë¬¼í•˜ê¸° ì„œë¹„ìŠ¤ì—ì„œëŠ” ìœ íš¨ì„± ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì—ëŸ¬ë¥¼ ë³´ì—¬ì¤€ë‹¤. ì´ ì—ëŸ¬ë¥¼ í¬ê²Œ í…ìŠ¤íŠ¸ ì—ëŸ¬, í† ìŠ¤íŠ¸ ì—ëŸ¬, ì–¼ëŸ¿ ì—ëŸ¬ë¡œ êµ¬ë¶„í•œë‹¤. ì´ë“¤ ëª¨ë‘ ìœ íš¨ì„± ì—ëŸ¬ë¡œ errorCodeì™€ errorMessageë¥¼ ê°€ì§€ê³  ìˆìœ¼ë©°, ì—ëŸ¬ ë…¸ì¶œ ë°©ì‹ì— ë”°ë¼ ì¶”ê°€ë¡œ í•„ìš”í•œ ì •ë³´ê°€ ìˆì„ ìˆ˜ ìˆë‹¤.

```tsx
type TextError = {
  errorCode: string;
  errorMessage: string;
};
type ToastError = {
  errorCode: string;
  errorMessage: string;
  toastShowDuration: number; // í† ìŠ¤íŠ¸ë¥¼ ë„ì›Œì¤„ ì‹œê°„
};
type AlertError = {
  errorCode: string;
  errorMessage: string;
  onConfirm: () => void; // ì–¼ëŸ¿ ì°½ì˜ í™•ì¸ ë²„íŠ¼ì„ ëˆ„ë¥¸ ë’¤ ì•¡ì…˜
};
```

ê° ì—ëŸ¬ íƒ€ì…ì˜ ìœ ë‹ˆì˜¨ íƒ€ì…ì„ ì›ì†Œë¡œ í•˜ëŠ” ë°°ì—´ì„ ì •ì˜í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```tsx
type ErrorFeedbackType = TextError | ToastError | AlertError;
const errorArr: ErrorFeedbackType[] = [
  { errorCode: â€œ100â€, errorMessage: â€œí…ìŠ¤íŠ¸ ì—ëŸ¬â€ },
  { errorCode: â€œ200â€, errorMessage: â€œí† ìŠ¤íŠ¸ ì—ëŸ¬â€, toastShowDuration: 3000 },
  { errorCode: â€œ300â€, errorMessage: â€œì–¼ëŸ¿ ì—ëŸ¬â€, onConfirm: () => {} },
];

```

ErrorFeedbackTypeì˜ ì›ì†Œë¥¼ ê°–ëŠ” ë°°ì—´ errorArrì€ ë‹¤ì–‘í•œ ì—ëŸ¬ ê°ì²´ë¥¼ ê´€ë¦¬í•œë‹¤. ë‹¤ë§Œ, ì—¬ê¸°ì„œ ToastErrorì˜ íŠ¹ìˆ˜ í•„ë“œì™€ AlerErrorì˜ íŠ¹ìˆ˜ í•„ë“œë¥¼ ëª¨ë‘ ê°€ì§€ëŠ” ê°ì²´ê°€ ìˆë‹¤ë©´, íƒ€ì… ì—ëŸ¬ë¥¼ ë±‰ì–´ì•¼í•  ê²ƒì´ë‹¤.

```tsx
const errorArr: ErrorFeedbackType[] = [
  // ...
  {
  errorCode: â€œ999â€,
  errorMessage: â€œì˜ëª»ëœ ì—ëŸ¬â€,
  toastShowDuration: 3000,
  onConfirm: () => {},
  }, // expected error
];

```

í•˜ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” â€œë• íƒ€ì´í•‘ ì–¸ì–´â€ì´ê¸° ë•Œë¬¸ì— ë³„ë„ì˜ íƒ€ì… ì—ëŸ¬ë¥¼ ë±‰ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ìƒí™©ì—ì„œ íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ì•ìœ¼ë¡œì˜ ê°œë°œì—ì„œ ì˜ë¯¸ë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬ ê°ì²´ê°€ ìƒê²¨ë‚  ìœ„í—˜ì„±ì´ ì»¤ì§„ë‹¤.

### 4.3.2 ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨

ë”°ë¼ì„œ ì—ëŸ¬ íƒ€ì…ì„ êµ¬ë¶„í•  ë°©ë²•ì´ í•„ìš”í•˜ë‹¤. ê° íƒ€ì…ì´ ë¹„ìŠ·í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ì§€ë§Œ ì„œë¡œ í˜¸í™˜ë˜ì§€ ì•Šë„ë¡ ë§Œë“¤ì–´ì£¼ê¸° ìœ„í•´ì„œëŠ” íƒ€ì…ë“¤ì´ ì„œë¡œ í¬í•¨ ê´€ê³„ë¥¼ ê°€ì§€ì§€ ì•Šë„ë¡ ì •ì˜í•´ì•¼ í•œë‹¤. ì´ë•Œ ë°”ë¡œ **ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨**ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.

ğŸ’¡ **ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨
:** íƒ€ì… ê°„ì˜ êµ¬ì¡° í˜¸í™˜ì„ ë§‰ê¸° ìœ„í•´ íƒ€ì…ë§ˆë‹¤ êµ¬ë¶„í•  ìˆ˜ ìˆëŠ” íŒë³„ìë¥¼ ë‹¬ì•„ì£¼ì–´ í¬í•¨ ê´€ê³„ë¥¼ ì œê±° í•˜ëŠ” ê²ƒ.

íŒë³„ìì˜ ê°œë…ìœ¼ë¡œ ê° ì—ëŸ¬ íƒ€ì…ë§ˆë‹¤ errorTypeì´ë¼ëŠ” í•„ë“œë¥¼ ìƒˆë¡œ ì •ì˜í•´ì£¼ì—ˆë‹¤.

```tsx
type TextError = {
  errorType: â€œTEXTâ€;
  errorCode: string;
  errorMessage: string;
};
type ToastError = {
  errorType: â€œTOASTâ€;
  errorCode: string;
  errorMessage: string;
  toastShowDuration: number;
}
type AlertError = {
  errorType: â€œALERTâ€;
  errorCode: string;
  errorMessage: string;
  onConfirm: () = > void;
};

```

ê° ì—ëŸ¬ íƒ€ì…ë§ˆë‹¤ ì´ í•„ë“œì— ëŒ€í•œ ë‹¤ë¥¸ ê°’ì„ ê°€ì§€ë„ë¡ í•˜ì—¬ íŒë³„ìë¥¼ ë‹¬ì•„ì£¼ë©´ ì´ë“¤ì€ í¬í•¨ ê´€ê³„ë¥¼ ë²—ì–´ë‚˜ê²Œ ëœë‹¤. ìƒˆë¡­ê²Œ ì •ì˜í•œ ìƒíƒœì—ì„œ errorArrì„ ìƒˆë¡œ ì •ì˜í•´ë³´ì.

```tsx
type ErrorFeedbackType = TextError | ToastError | AlertError;

const errorArr: ErrorFeedbackType[] = [
  { errorType: â€œTEXTâ€, errorCode: â€œ100â€, errorMessage: â€œí…ìŠ¤íŠ¸ ì—ëŸ¬â€ },
  {
    errorType: â€œTOASTâ€,
    errorCode: â€œ200â€,
    errorMessage: â€œí† ìŠ¤íŠ¸ ì—ëŸ¬â€,
    toastShowDuration: 3000,
  },
  {
    errorType: â€œALERTâ€,
    errorCode: â€œ300â€,
    errorMessage: â€œì–¼ëŸ¿ ì—ëŸ¬â€,
    onConfirm: () => {},
  },
  {
    errorType: â€œTEXTâ€,
    errorCode: â€œ999â€,
    errorMessage: â€œì˜ëª»ëœ ì—ëŸ¬â€,
    toastShowDuration: 3000, // Object literal may only specify known properties, and â€˜toastShowDurationâ€™ does not exist in type â€˜TextErrorâ€™
    onConfirm: () => {},
  },
  {
    errorType: â€œTOASTâ€,
    errorCode: â€œ210â€,
    errorMessage: â€œí† ìŠ¤íŠ¸ ì—ëŸ¬â€,
    onConfirm: () => {}, // Object literal may only specify known properties, and â€˜onConfirmâ€™ does not exist in type â€˜ToastErrorâ€™
  },
  {
    errorType: â€œALERTâ€,
    errorCode: â€œ310â€,
    errorMessage: â€œì–¼ëŸ¿ ì—ëŸ¬â€,
    toastShowDuration: 5000, // Object literal may only specify known properties, and â€˜toastShowDurationâ€™ does not exist in type â€˜AlertErrorâ€™
  },
];

```

ìš°ë¦¬ê°€ ì²˜ìŒ ê¸°ëŒ€í–ˆë˜ ëŒ€ë¡œ ì •í™•í•˜ì§€ ì•Šì€ ì—ëŸ¬ ê°ì²´ì— ëŒ€í•œ íƒ€ì… ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### 4.2.3 ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨ì˜ íŒë³„ì ì„ ì •

ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨ì„ ì‚¬ìš©í•  ë•Œ ì£¼ì˜í•  ì ì´ ìˆë‹¤. ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨ì˜ íŒë³„ìëŠ” **ìœ ë‹› íƒ€ì…**ìœ¼ë¡œ ì„ ì–¸ë˜ì–´ì•¼ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•œë‹¤. ìœ ë‹› íƒ€ì…ì€ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ìª¼ê°œì§€ì§€ ì•Šê³  ì˜¤ì§ í•˜ë‚˜ì˜ ì •í™•í•œ ê°’ì„ ê°€ì§€ëŠ” íƒ€ì…ì„ ë§í•œë‹¤. null, undefined, ë¦¬í„°ëŸ´ íƒ€ì…ì„ ë¹„ë¡¯í•´ true, 1 ë“± ì •í™•í•œ ê°’ì„ ë‚˜íƒ€ë‚´ëŠ” íƒ€ì…ì´ ìœ ë‹› íƒ€ì…ì— í•´ë‹¹í•œë‹¤. ë°˜ë©´ ë‹¤ì–‘í•œ íƒ€ì…ì„ í• ë‹¹í•  ìˆ˜ ìˆëŠ” void, string, numberì™€ ê°™ì€ íƒ€ì…ì€ ìœ ë‹› íƒ€ì…ìœ¼ë¡œ ì ìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

ê³µì‹ ê¹ƒí—ˆë¸Œì˜ [ì´ìŠˆ íƒ­](https://github.com/microsoft/TypeScript/issues/30506#issuecomment-474802840)ì„ ì‚´í´ë³´ë©´ ì‹ë³„í•  ìˆ˜ ìˆëŠ” ìœ ë‹ˆì˜¨ì˜ íŒë³„ìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íƒ€ì…ì„ ë‹¤ìŒê³¼ ê°™ì´ ì •ì˜í•œë‹¤.

- ë¦¬í„°ëŸ´ íƒ€ì…ì´ì–´ì•¼ í•œë‹¤.
- íŒë³„ìë¡œ ì„ ì •í•œ ê°’ì— ì ì–´ë„ í•˜ë‚˜ ì´ìƒì˜ ìœ ë‹› íƒ€ì…ì´ í¬í•¨ë˜ì–´ì•¼ í•˜ë©°, ì¸ìŠ¤í„´ìŠ¤í™”í•  ìˆ˜ ìˆëŠ” íƒ€ì…(instantiable type)ì€ í¬í•¨ë˜ì§€ ì•Šì•„ì•¼ í•œë‹¤.

1. The property is a literal type as outlined hereÂ [Discriminated union typesÂ #9163](https://github.com/microsoft/TypeScript/pull/9163)
2. The a property of a union type to be a discriminant property if it has a union type containing at least one unit type and no instantiable types as outlined hereÂ [Allow non-unit types in union discriminantsÂ #27695](https://github.com/microsoft/TypeScript/pull/27695)

## 4.4 Exhaustiveness Checkingìœ¼ë¡œ ì •í™•í•œ íƒ€ì… ë¶„ê¸° ìœ ì§€í•˜ê¸°

Exhaustiveness Checkingì€ ëª¨ë“  ì¼€ì´ìŠ¤ì— ëŒ€í•´ ì² ì €í•˜ê²Œ íƒ€ì…ì„ ê²€ì‚¬í•˜ëŠ” ê²ƒì„ ë§í•˜ë©° íƒ€ì… ì¢íˆê¸°ì— ì‚¬ìš©ë˜ëŠ” íŒ¨ëŸ¬ë‹¤ì„ ì¤‘ í•˜ë‚˜ì´ë‹¤. ëª¨ë“  ì¼€ì´ìŠ¤ì— ëŒ€í•´ ë¶„ê¸° ì²˜ë¦¬í•´ì•¼ë§Œ ìœ ì§€ë³´ìˆ˜ ì¸¡ë©´ì—ì„œ ì•ˆì „í•˜ë‹¤ê³  ìƒê°ë˜ëŠ” ê²½ìš° Exhaustiveness Checkingì„ í†µí•´ ëª¨ë“  ì¼€ì´ìŠ¤ì— ëŒ€í•œ íƒ€ì… ê²€ì‚¬ë¥¼ ê°•ì œí•  ìˆ˜ ìˆë‹¤.

### 4.4.1 ìƒí’ˆê¶Œ

ì„ ë¬¼í•˜ê¸° ì„œë¹„ìŠ¤ì—ëŠ” ë‹¤ì–‘í•œ ìƒí’ˆê¶Œì´ ìˆë‹¤. ìƒí’ˆê¶Œ ê°€ê²©ì— ë”°ë¼ ìƒí’ˆê¶Œ ì´ë¦„ì„ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```tsx
type ProductPrice = â€œ10000â€ | â€œ20000â€;

const getProductName = (productPrice: ProductPrice): string => {
  if (productPrice === â€œ10000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 1ë§Œ ì›â€;
  if (productPrice === â€œ20000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 2ë§Œ ì›â€;
  else {
    return â€œë°°ë¯¼ìƒí’ˆê¶Œâ€;
  }
};

```

ì´ë•Œ ìƒˆë¡œìš´ ìƒí’ˆê¶Œì´ ìƒê²¨ ProductPrice íƒ€ì…ì´ ì—…ë°ì´íŠ¸ë˜ì–´ì•¼ í•œë‹¤ê³  í•´ë³´ì.

```tsx
type ProductPrice = â€œ10000â€ | â€œ20000â€ | â€œ5000â€;

const getProductName = (productPrice: ProductPrice): string => {
  if (productPrice === â€œ10000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 1ë§Œ ì›â€;
  if (productPrice === â€œ20000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 2ë§Œ ì›â€;
  if (productPrice === â€œ5000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 5ì²œ ì›â€; // ì¡°ê±´ ì¶”ê°€ í•„ìš”
  else {
    return â€œë°°ë¯¼ìƒí’ˆê¶Œâ€;
  }
};

```

ProductPrice íƒ€ì…ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆì„ ë•Œ getProductName í•¨ìˆ˜ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸ ë˜ì—ˆë‹¤. ê·¸ëŸ¬ë‚˜ getProductName í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ë³„ë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì‹¤ìˆ˜í•  ì—¬ì§€ê°€ ìˆë‹¤. ì´ì²˜ëŸ¼ ëª¨ë“  íƒ€ì…ì— ëŒ€í•œ íƒ€ì… ê²€ì‚¬ë¥¼ ê°•ì œí•˜ê³  ì‹œë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ëœë‹¤.

```tsx
type ProductPrice = â€œ10000â€ | â€œ20000â€ | â€œ5000â€;

const getProductName = (productPrice: ProductPrice): string => {
  if (productPrice === â€œ10000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 1ë§Œ ì›â€;
  if (productPrice === â€œ20000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 2ë§Œ ì›â€;
  // if (productPrice === â€œ5000â€) return â€œë°°ë¯¼ìƒí’ˆê¶Œ 5ì²œ ì›â€;
  else {
    exhaustiveCheck(productPrice); // Error: Argument of type â€˜stringâ€™ is not assignable to parameter of type â€˜neverâ€™
    return â€œë°°ë¯¼ìƒí’ˆê¶Œâ€;
  }
};

const exhaustiveCheck = (param: never) => {
  throw new Error(â€œtype error!â€);
};

```

ì•ì—ì„œ ì¶”ê°€í•œ productPriceê°€ â€œ5000â€ì¼ ë•Œì˜ ë¶„ê¸° ì²˜ë¦¬ê°€ ì£¼ì„ëœ ìƒíƒœì´ë‹¤. exhaustiveCheck(productPrice);ì—ì„œ ì—ëŸ¬ë¥¼ ë±‰ê³  ìˆëŠ”ë° 5000ì´ë¼ëŠ” ê°’ì— ëŒ€í•œ ë¶„ê¸° ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šì•„ì„œ (ì² ì €í•˜ê²Œ ê²€ì‚¬í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—) ë°œìƒí•œ ê²ƒì´ë‹¤. ì´ë ‡ê²Œ ëª¨ë“  ì¼€ì´ìŠ¤ì— ëŒ€í•œ íƒ€ì… ë¶„ê¸° ì²˜ë¦¬ë¥¼ í•´ì£¼ì§€ ì•Šì•˜ì„ ë•Œ, ì»´íŒŒì¼íƒ€ì„ ì—ëŸ¬ê°€ ë°œìƒí•˜ê²Œ í•˜ëŠ” ê²ƒì„ Exhaustiveness Checkingì´ë¼ê³  í•œë‹¤.

exhaustiveCheck í•¨ìˆ˜ë¥¼ ìì„¸íˆ ë³´ë©´, ì´ í•¨ìˆ˜ëŠ” ë§¤ê°œë³€ìˆ˜ë¥¼ never íƒ€ì…ìœ¼ë¡œ ì„ ì–¸í•˜ê³  ìˆë‹¤. ì¦‰, ë§¤ê°œë³€ìˆ˜ë¡œ ê·¸ ì–´ë–¤ ê°’ë„ ë°›ì„ ìˆ˜ ì—†ìœ¼ë©° ë§Œì¼ ê°’ì´ ë“¤ì–´ì˜¨ë‹¤ë©´ ì—ëŸ¬ë¥¼ ë‚´ë±‰ëŠ”ë‹¤. ì´ í•¨ìˆ˜ë¥¼ íƒ€ì… ì²˜ë¦¬ ì¡°ê±´ë¬¸ì˜ ë§ˆì§€ë§‰ else ë¬¸ì— ì‚¬ìš©í•˜ë©´ ì•ì˜ ì¡°ê±´ë¬¸ì—ì„œ ëª¨ë“  íƒ€ì…ì— ëŒ€í•œ ë¶„ê¸° ì²˜ë¦¬ë¥¼ ê°•ì œí•  ìˆ˜ ìˆë‹¤.

ì´ë ‡ê²Œ Exhaustiveness Checkingì„ í™œìš©í•˜ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ë°©ì§€í•˜ê±°ë‚˜ ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œ ìƒê¸¸ ìˆ˜ ìˆëŠ” ìœ„í—˜ì„±ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤. íƒ€ì…ì— ëŒ€í•œ ì² ì €í•œ ë¶„ê¸° ì²˜ë¦¬ê°€ í•„ìš”í•˜ë‹¤ë©´ Exhaustiveness Checking íŒ¨í„´ì„ í™œìš©í•´ë³´ê¸¸ ë°”ë€ë‹¤.
